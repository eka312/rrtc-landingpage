<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Admin | Tambah Berita</title>
      
      
        <!-- Google Web Fonts -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link
          href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&family=Rubik:wght@400;500;600;700&display=swap"
          rel="stylesheet">
      
        <!-- Icon Font Stylesheet -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css"/>
      
        <!-- Libraries Stylesheet -->
        <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
        <link href="lib/animate/animate.min.css" rel="stylesheet">
      
        <!-- Customized Bootstrap Stylesheet -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
      
        <!-- Template Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="css/add.css">
    </head>
    <body>
        
        <!-- Sidebar (desktop) -->
        <aside class="sidebar d-none d-lg-block" aria-label="Sidebar">
            <div class="brand  ">
                <img src="img/RRTC2(PNG)1.png" alt="logo" class="w-50 m-0 h-auto text-center">
            </div>

            <nav class="nav flex-column px-2 mt-3">
                <a class="nav-link  " href="../frontend/dashboard.html"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a>
                <a class="nav-link active " href="../frontend/crud-berita.html"><i class="bi bi-journal-text me-2"></i>Artikel / Berita</a>
                <!-- <a class="nav-link " href="#"><i class="bi bi-people me-2"></i>Users</a> -->
                <hr>
                <a class="nav-link " href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
                    <i class="bi bi-box-arrow-right me-2"></i> Logout
                </a>
            </nav>
        </aside>

        <!-- Offcanvas sidebar for small screens -->
        <div class="offcanvas offcanvas-start d-lg-none " tabindex="-1" id="offcanvasSidebar">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title">RRTC Admin</h5>
                <button type="button" class="btn-close btn-close-primary" data-bs-dismiss="offcanvas" aria-label="Close"></button>
            </div>
            <div class="offcanvas-body">
                <nav class="nav flex-column">
                    <a class="nav-link " href="../frontend/dashboard.html">Dashboard</a>
                    <a class="nav-link active" href="../frontend/crud-berita.html">Artikel / Berita</a>
                    <!-- <a class="nav-link" href="#">Users</a> -->
                    <hr>
                    <a class="nav-link " href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
                        Logout
                    </a>
                </nav>
            </div>
        </div>
         <!-- Offcanvas sidebar for small screens end-->

        <!-- Topbar -->
        <header class="topbar d-flex justify-content-between align-items-center ">
            <div class="d-flex align-items-center gap-2">
                <button class="btn btn-dark d-lg-none" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-controls="offcanvasSidebar">
                    <i class="bi bi-list"></i>
                </button>
                <h5 class="mb-0" >Artikel / Berita</h5>
                <span class="badge bg-primary ms-2 text-white p-2">Admin</span>
            </div>

            <div class="d-flex align-items-center gap-3">
                <div class="input-group d-none d-md-flex" style="max-width:320px;">
                    <span class="input-group-text bg-transparent border-0 text-muted"><i class="bi bi-search"></i></span>
                    <input class="form-control form-control-sm" placeholder="Search articles..." aria-label="search">
                </div>

                <div class="dropdown">
                    <a class="d-flex align-items-center text-decoration-none" href="#" data-bs-toggle="dropdown" aria-expanded="false">
                        <div class="text-end mx-2 ">
                            <div style="font-weight:700;color: var(--primary);" >Administrator</div>
                            <div class="text-muted" style="font-size:.85rem;">admin@rrtc.com</div>
                        </div>
                        <!-- <img src="#" class="rounded-circle" alt="admin"> -->
                        <i class="bi bi-person-circle fs-3 text-muted "></i>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end">
                        <!-- <li><a class="dropdown-item" href="#">Profile</a></li> -->
                        <li>
                            <a class="nav-link text-danger" href="#" data-bs-toggle="modal" data-bs-target="#logoutModal">
                                Logout
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </header>
        <!-- Topbar end-->


        <!-- Main content -->
        <main class="main-content">
            <div class="container-fluid">
                <!-- <div class="card card-custom  shadow-sm mb-3 p-2">
                    <div class="card-body d-flex justify-content-between align-items-center">
                    <div>
                        <h6 class="mb-0" style="font-weight:700;">Daftar Artikel</h6>
                        <small class="muted">Kelola, edit, atau hapus artikel</small>
                    </div>
                    <div>
                        <button class="btn btn-primary btn-sm rounded-3" onclick="refreshList()"><i class="bi bi-arrow-clockwise"></i> Refresh</button>
                    </div>
                    </div>
                </div> -->

                <div class="card card-custom  shadow-sm">
                    <div class="mb-4 d-flex justify-content-between align-items-center">
                        <div>
                            <h6 class="mb-0" style="font-weight:700;">Daftar Artikel</h6>
                            <small class="muted">Kelola, edit, atau hapus artikel</small>
                        </div>
                        <div>
                            <!-- <button class="btn btn-primary btn-sm rounded-3" onclick="refreshList()"><i class="bi bi-arrow-clockwise"></i> Refresh</button> -->
                            <button class="btn btn-primary btn-sm rounded-3" data-bs-toggle="modal" data-bs-target="#addArticleModal">
                                <i class="bi bi-plus me-1"></i> Tambah
                            </button>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <div class="table-responsive">
                            <table class="table table-dark-custom table-hover mb-0">
                                <thead class="small">
                                    <tr>
                                        <th style="width:6%">No</th>
                                        <th>Judul</th>
                                        <th class="text-center" style="width:18%">Tanggal</th>
                                        <th class="text-center" style="width:12%">Status</th>
                                        <th class="text-end" style="width:16%">Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="articlesTableBody">
                                    
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

            </div>
        </main>
        <!-- Main content end-->

        <!-- Modal Logout -->
        <div class="modal fade" id="logoutModal" tabindex="-1" aria-labelledby="logoutModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                <h5 class="modal-title" id="logoutModalLabel">Konfirmasi Logout</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                Apakah kamu yakin ingin keluar dari dashboard?
                </div>
                <div class="modal-footer border-0">
                <button type="button" class="btn btn-primary rounded-3 btn-sm" data-bs-dismiss="modal">Batal</button>
                <button type="submit" class="btn btn-danger btn-sm">Logout</button>
                </div>
            </div>
            </div>
        </div>
        <!-- modal logout end -->


        <!-- modal hapus -->
        <div class="modal fade" id="deleteModal" tabindex="-1" aria-labelledby="deleteModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content text-capitalize">
                    <div class="modal-header border-0">
                        <h5 class="modal-title" id="deleteModalLabel">Konfirmasi delete</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Apakah kamu yakin ingin mengahapus artikel ini?
                    </div>
                    <div class="modal-footer border-0">
                        <button type="button" class="btn btn-primary rounded-3 btn-sm" data-bs-dismiss="modal">Batal</button>
                        <button type="button" class="btn btn-danger btn-sm"  id="confirmDeleteBtn">Hapus</button>
                    </div>
                </div>
            </div>
        </div>
        <!-- modal hapus end -->

        <!-- modal tambah data -->
        <div class="modal fade" id="addArticleModal" tabindex="-1" aria-labelledby="addArticleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                <h5 class="modal-title" id="addArticleModalLabel">Tambah Artikel / Berita</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="articleForm" onsubmit="handleSubmit(event)">
                <div class="modal-body">
                    <div class="mb-3">
                    <label class="form-label" for="title">Judul</label>
                    <input id="title" name="judul" class="form-control form-control-sm rounded-3" placeholder="Masukkan judul" required>
                    </div>
                    
                    <div class="row g-2">
                    <div class="col-md-6 mb-3">
                        <label class="form-label" for="author">Penulis</label>
                        <input id="author" name="penulis" class="form-control form-control-sm rounded-3" placeholder="Nama penulis">
                    </div>
                    <div class="col-md-6 mb-3">
                        <label class="form-label" for="date">Tanggal Terbit</label>
                        <input id="date" name="tanggal_terbit" type="date" class="form-control form-control-sm rounded-3">
                    </div>
                    </div>
                    
                    <div class="mb-3">
                    <label class="form-label" for="status">Status</label>
                    <select id="status" name="status" class="form-select form-select-sm rounded-3">
                        <option value="draft">Draft</option>
                        <option value="published">Published</option>
                    </select>
                    </div>
                    
                    <div class="mb-3">
                    <label class="form-label" for="cover">Gambar Sampul</label>
                    <input id="cover" name="gambar" type="file" accept="image/*" class="form-control form-control-sm rounded-3" onchange="previewImage(event)">
                    <small class="text-muted">Disarankan 1200x630 px</small>
                    <div class="mb-2">
                        <img id="coverPreview" src="" alt="preview" class="img-preview d-none w-75">
                    </div>
                    </div>
                    
                    <div class="mb-3">
                    <label class="form-label" for="content">Isi</label>
                    <textarea id="content" name="isi" class="form-control form-control-sm rounded-3" rows="12" placeholder="Tulis isi artikel di sini"></textarea>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm rounded-3" data-bs-dismiss="modal">Batal</button>
                    <button type="submit" class="btn btn-primary btn-sm rounded-3">
                    <i class="bi bi-save me-1"></i> Simpan
                    </button>
                </div>
                </form>
            </div>
            </div>
        </div>
        <!-- modal tambah data end -->

        <!-- Modal Edit Artikel -->
        <div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="editModalLabel">Edit Artikel / Berita</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
            
                    <form id="editArticleForm" onsubmit="return handleUpdate(event)">
                        <div class="modal-body">
                            <input type="hidden" id="edit_id" name="id_berita">

                            <div class="mb-3">
                                <div id="currentImageContainer" class="mb-3" style="display:none;">
                                    <p class="small text-muted mb-1">Gambar Saat Ini:</p>
                                    <img id="currentImage" src="" alt="Cover saat ini" 
                                         class="img-fluid rounded border" style="max-height:260px; object-fit:cover;">
                                </div>
                            </div>

                
                            <div class="mb-3">
                                <label class="form-label" for="edit_judul">Judul</label>
                                <input id="edit_judul" name="judul" class="form-control form-control-sm rounded-3" required>
                            </div>
                
                            <div class="row g-2">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" for="edit_penulis">Penulis</label>
                                    <input id="edit_penulis" name="penulis" class="form-control form-control-sm rounded-3">
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label" for="edit_tanggal">Tanggal Terbit</label>
                                    <input id="edit_tanggal" name="tanggal_terbit" type="date" class="form-control form-control-sm rounded-3">
                                </div>
                            </div>
                
                            <div class="mb-3">
                                <label class="form-label " for="edit_status">Status</label>
                                <select id="edit_status" name="status" class="form-select form-select-sm rounded-3">
                                    <option value="draft">Draft</option>
                                    <option value="published">Published</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <!-- Input ganti gambar -->
                                <label for="edit_cover" class="form-label fw-semibold">Ganti Gambar</label>
                                <input
                                id="edit_cover"
                                name="gambar"
                                type="file"
                                accept="image/*"
                                class="form-control form-control-sm rounded-3"
                                onchange="previewEditImage(event)"
                                />
                                <small class="text-muted d-block mt-1">Kosongkan jika tidak ingin mengubah gambar. Disarankan 1200×630 px.</small>

                                <!-- Preview saat user pilih file baru -->
                                <div class="mt-2">
                                    <img id="edit_coverPreview" src="" alt="Preview baru" class="img-fluid rounded d-none" 
                                        style="max-height:180px; object-fit:cover;">
                                </div>
                            </div>
                
                            <div class="mb-3">
                                <label class="form-label" for="edit_isi">Isi</label>
                                <textarea id="edit_isi" name="isi" class="form-control form-control-sm rounded-3" rows="12"></textarea>
                            </div>
                        </div>
                
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary btn-sm rounded-3" data-bs-dismiss="modal">Batal</button>
                            <button type="submit" class="btn btn-primary btn-sm rounded-3">Simpan Perubahan</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
  
        <!-- modal edit artikel end -->
        

        



        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>
        <script src="lib/counterup/counterup.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>



        <!-- Template Javascript -->
        <script src="js/main.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

        <!-- fectch api -->
        <script src="js/fetch-api.js"></script>

        





        


    </body>
</html>